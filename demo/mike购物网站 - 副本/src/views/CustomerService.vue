<template>
  <div class="customer-service-container">
    <!-- é¡¶éƒ¨å¯¼èˆª -->
    <div class="cs-header">
      <el-page-header @back="goBack" content="åœ¨çº¿å®¢æœ" />
    </div>

    <!-- å®¢æœä¸»ä½“å†…å®¹ -->
    <div class="cs-content">
      <!-- å®¢æœä¿¡æ¯å¡ç‰‡ -->
      <div class="cs-info-card">
        <div class="cs-avatar">
          <div class="cs-avatar-placeholder">ğŸ‘¨â€ğŸ’¼</div>
        </div>
        <div class="cs-details">
          <h3 class="cs-name">aaa</h3>
          <p class="cs-status">åœ¨çº¿</p>
          <p class="cs-desc">ä¸ºæ‚¨æä¾›ä¸“ä¸šçš„è´­ç‰©å’¨è¯¢æœåŠ¡</p>
        </div>
      </div>

      <!-- å¿«æ·æœåŠ¡ -->
      <div class="quick-services">
        <h4 class="section-title">å¿«æ·æœåŠ¡</h4>
        <div class="service-grid">
          <div class="service-item" @click="startChat('order')">
            <div class="service-icon">ğŸ“¦</div>
            <div class="service-text">è®¢å•å’¨è¯¢</div>
          </div>
          <div class="service-item" @click="startChat('product')">
            <div class="service-icon">ğŸ›ï¸</div>
            <div class="service-text">å•†å“å’¨è¯¢</div>
          </div>
          <div class="service-item" @click="startChat('payment')">
            <div class="service-icon">ğŸ’³</div>
            <div class="service-text">æ”¯ä»˜é—®é¢˜</div>
          </div>
          <div class="service-item" @click="startChat('shipping')">
            <div class="service-icon">ğŸšš</div>
            <div class="service-text">ç‰©æµæŸ¥è¯¢</div>
          </div>
          <div class="service-item" @click="startChat('return')">
            <div class="service-icon">â†©ï¸</div>
            <div class="service-text">é€€æ¢è´§</div>
          </div>
          <div class="service-item" @click="startChat('other')">
            <div class="service-icon">â“</div>
            <div class="service-text">å…¶ä»–é—®é¢˜</div>
          </div>
        </div>
      </div>

      <!-- å¸¸è§é—®é¢˜ -->
      <div class="faq-section">
        <h4 class="section-title">å¸¸è§é—®é¢˜</h4>
        <div class="faq-list">
          <div class="faq-item" @click="showFAQ('delivery')">
            <div class="faq-question">é…é€éœ€è¦å¤šé•¿æ—¶é—´ï¼Ÿ</div>
            <div class="faq-arrow">â€º</div>
          </div>
          <div class="faq-item" @click="showFAQ('return')">
            <div class="faq-question">å¦‚ä½•ç”³è¯·é€€æ¢è´§ï¼Ÿ</div>
            <div class="faq-arrow">â€º</div>
          </div>
          <div class="faq-item" @click="showFAQ('payment')">
            <div class="faq-question">æ”¯æŒå“ªäº›æ”¯ä»˜æ–¹å¼ï¼Ÿ</div>
            <div class="faq-arrow">â€º</div>
          </div>
          <div class="faq-item" @click="showFAQ('discount')">
            <div class="faq-question">å¦‚ä½•ä½¿ç”¨ä¼˜æƒ åˆ¸ï¼Ÿ</div>
            <div class="faq-arrow">â€º</div>
          </div>
        </div>
      </div>

      <!-- è”ç³»æ–¹å¼ -->
      <div class="contact-section">
        <h4 class="section-title">å…¶ä»–è”ç³»æ–¹å¼</h4>
        <div class="contact-list">
          <div class="contact-item" @click="callService">
            <div class="contact-icon">ğŸ“</div>
            <div class="contact-info">
              <div class="contact-title">å®¢æœçƒ­çº¿</div>
              <div class="contact-desc">400-123-4567</div>
            </div>
          </div>
          <div class="contact-item" @click="showWorkTime">
            <div class="contact-icon">ğŸ•’</div>
            <div class="contact-info">
              <div class="contact-title">å·¥ä½œæ—¶é—´</div>
              <div class="contact-desc">å‘¨ä¸€è‡³å‘¨æ—¥ 9:00-18:00</div>
            </div>
          </div>
          <div class="contact-item" @click="showEmail">
            <div class="contact-icon">ğŸ“§</div>
            <div class="contact-info">
              <div class="contact-title">é‚®ç®±å’¨è¯¢</div>
              <div class="contact-desc">service@mikeshop.com</div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- åº•éƒ¨æ“ä½œæ  -->
    <div class="cs-footer">
      <button class="cs-btn cs-btn-primary" @click="startChat('general')">
        ğŸ’¬ å¼€å§‹èŠå¤©
      </button>
    </div>
  </div>
</template>

<script setup>
import { useRouter } from 'vue-router';
import { ElMessage, ElMessageBox } from 'element-plus';

const router = useRouter();

// è¿”å›ä¸Šä¸€é¡µ
const goBack = () => {
  router.back();
};

// å¼€å§‹èŠå¤©
const startChat = (type) => {
  router.push({ name: 'chatRoom' });
};

// æ˜¾ç¤ºå¸¸è§é—®é¢˜ç­”æ¡ˆ
const showFAQ = (type) => {
  const faqMap = {
    'delivery': 'ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œä¸‹å•å1-3ä¸ªå·¥ä½œæ—¥å†…å‘è´§ï¼Œå‘è´§å3-7ä¸ªå·¥ä½œæ—¥é€è¾¾ã€‚å…·ä½“é…é€æ—¶é—´æ ¹æ®æ‚¨çš„æ”¶è´§åœ°å€è€Œå®šã€‚',
    'return': 'åœ¨æ”¶åˆ°å•†å“7å¤©å†…ï¼Œå¦‚å•†å“å®Œå¥½æ— æŸï¼Œå¯ä»¥ç”³è¯·é€€æ¢è´§ã€‚è¯·åœ¨"æˆ‘çš„è®¢å•"ä¸­æ‰¾åˆ°ç›¸åº”è®¢å•ï¼Œç‚¹å‡»"ç”³è¯·å”®å"å³å¯ã€‚',
    'payment': 'æˆ‘ä»¬æ”¯æŒæ”¯ä»˜å®ã€å¾®ä¿¡æ”¯ä»˜ã€é“¶è¡Œå¡æ”¯ä»˜ç­‰å¤šç§æ”¯ä»˜æ–¹å¼ï¼Œç¡®ä¿æ‚¨çš„æ”¯ä»˜å®‰å…¨ä¾¿æ·ã€‚',
    'discount': 'åœ¨ç»“ç®—é¡µé¢å¯ä»¥é€‰æ‹©ä½¿ç”¨ä¼˜æƒ åˆ¸ï¼Œä¹Ÿå¯ä»¥åœ¨ä¸ªäººä¸­å¿ƒçš„"ä¼˜æƒ åˆ¸"é¡µé¢æŸ¥çœ‹å’Œç®¡ç†æ‚¨çš„ä¼˜æƒ åˆ¸ã€‚'
  };
  
  ElMessageBox.alert(
    faqMap[type],
    'å¸¸è§é—®é¢˜',
    {
      confirmButtonText: 'æˆ‘çŸ¥é“äº†',
      type: 'info'
    }
  );
};

// æ‹¨æ‰“å®¢æœç”µè¯
const callService = () => {
  ElMessageBox.confirm(
    '400-123-4567\nå·¥ä½œæ—¶é—´ï¼š9:00-18:00',
    'å®¢æœçƒ­çº¿',
    {
      confirmButtonText: 'æ‹¨æ‰“ç”µè¯',
      cancelButtonText: 'å–æ¶ˆ',
      type: 'info'
    }
  ).then(() => {
    ElMessage.success('æ­£åœ¨æ‹¨æ‰“ç”µè¯...');
    // åœ¨å®é™…åº”ç”¨ä¸­ï¼Œè¿™é‡Œå¯ä»¥è°ƒç”¨ç”µè¯æ‹¨å·åŠŸèƒ½
  });
};

// æ˜¾ç¤ºå·¥ä½œæ—¶é—´
const showWorkTime = () => {
  ElMessageBox.alert(
    'å‘¨ä¸€è‡³å‘¨æ—¥ï¼š9:00-18:00\nèŠ‚å‡æ—¥æ­£å¸¸æœåŠ¡ï¼Œå®¢æœäººå‘˜24å°æ—¶è½®ç­ä¸ºæ‚¨æœåŠ¡ã€‚',
    'å·¥ä½œæ—¶é—´',
    {
      confirmButtonText: 'æˆ‘çŸ¥é“äº†',
      type: 'info'
    }
  );
};

// æ˜¾ç¤ºé‚®ç®±ä¿¡æ¯
const showEmail = () => {
  ElMessageBox.alert(
    'service@mikeshop.com\næˆ‘ä»¬ä¼šåœ¨24å°æ—¶å†…å›å¤æ‚¨çš„é‚®ä»¶ï¼Œè¯·è€å¿ƒç­‰å¾…ã€‚',
    'é‚®ç®±å’¨è¯¢',
    {
      confirmButtonText: 'æˆ‘çŸ¥é“äº†',
      type: 'info'
    }
  );
};
</script>

<style scoped>
.customer-service-container {
  min-height: 100vh;
  background-color: #f5f5f5;
  display: flex;
  flex-direction: column;
}

.cs-header {
  position: sticky;
  top: 0;
  z-index: 100;
  background-color: #fff;
}

.cs-content {
  flex: 1;
  padding: 16px;
  padding-bottom: 80px;
}

/* å®¢æœä¿¡æ¯å¡ç‰‡ */
.cs-info-card {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  padding: 24px;
  border-radius: 16px;
  display: flex;
  align-items: center;
  margin-bottom: 24px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

.cs-avatar {
  width: 60px;
  height: 60px;
  border-radius: 50%;
  overflow: hidden;
  margin-right: 16px;
  background-color: white;
  display: flex;
  align-items: center;
  justify-content: center;
}

.cs-avatar-img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.cs-avatar-placeholder {
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 40px;
  background-color: #f0f0f0;
  border-radius: 50%;
}

.cs-details {
  flex: 1;
}

.cs-name {
  font-size: 20px;
  font-weight: bold;
  margin: 0 0 4px 0;
}

.cs-status {
  font-size: 14px;
  margin: 0 0 8px 0;
  opacity: 0.9;
}

.cs-desc {
  font-size: 14px;
  margin: 0;
  opacity: 0.8;
}

/* å¿«æ·æœåŠ¡ */
.quick-services {
  margin-bottom: 24px;
}

.section-title {
  font-size: 18px;
  font-weight: bold;
  margin: 0 0 16px 0;
  color: #333;
}

.service-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 12px;
}

.service-item {
  background-color: white;
  padding: 16px;
  border-radius: 12px;
  text-align: center;
  cursor: pointer;
  transition: all 0.3s ease;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
}

.service-item:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
}

.service-icon {
  font-size: 24px;
  margin-bottom: 8px;
}

.service-text {
  font-size: 14px;
  color: #333;
}

/* å¸¸è§é—®é¢˜ */
.faq-section {
  margin-bottom: 24px;
}

.faq-list {
  background-color: white;
  border-radius: 12px;
  overflow: hidden;
}

.faq-item {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 16px;
  border-bottom: 1px solid #f0f0f0;
  cursor: pointer;
  transition: background-color 0.3s ease;
}

.faq-item:last-child {
  border-bottom: none;
}

.faq-item:hover {
  background-color: #f8f9fa;
}

.faq-question {
  font-size: 14px;
  color: #333;
  flex: 1;
}

.faq-arrow {
  font-size: 18px;
  color: #999;
}

/* è”ç³»æ–¹å¼ */
.contact-section {
  margin-bottom: 24px;
}

.contact-list {
  background-color: white;
  border-radius: 12px;
  overflow: hidden;
}

.contact-item {
  display: flex;
  align-items: center;
  padding: 16px;
  border-bottom: 1px solid #f0f0f0;
  cursor: pointer;
  transition: background-color 0.3s ease;
}

.contact-item:last-child {
  border-bottom: none;
}

.contact-item:hover {
  background-color: #f8f9fa;
}

.contact-icon {
  font-size: 20px;
  margin-right: 12px;
}

.contact-info {
  flex: 1;
}

.contact-title {
  font-size: 14px;
  font-weight: 500;
  color: #333;
  margin-bottom: 2px;
}

.contact-desc {
  font-size: 12px;
  color: #666;
}

/* åº•éƒ¨æ“ä½œæ  */
.cs-footer {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  background-color: white;
  padding: 12px 16px;
  box-shadow: 0 -2px 8px rgba(0, 0, 0, 0.1);
  z-index: 100;
}

.cs-btn {
  width: 100%;
  padding: 12px;
  border: none;
  border-radius: 8px;
  font-size: 16px;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.3s ease;
}

.cs-btn-primary {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
}

.cs-btn-primary:hover {
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
}
</style>